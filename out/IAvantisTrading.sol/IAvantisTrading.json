{"abi":[{"type":"function","name":"closeTradeMarket","inputs":[{"name":"_pairIndex","type":"uint256","internalType":"uint256"},{"name":"_index","type":"uint256","internalType":"uint256"},{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"orderId","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"hasOpenTrade","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"exists","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"openTrade","inputs":[{"name":"t","type":"tuple","internalType":"struct IAvantisTrading.Trade","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"initialPosToken","type":"uint256","internalType":"uint256"},{"name":"positionSizeUSDC","type":"uint256","internalType":"uint256"},{"name":"openPrice","type":"uint256","internalType":"uint256"},{"name":"buy","type":"bool","internalType":"bool"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"tp","type":"uint256","internalType":"uint256"},{"name":"sl","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"}]},{"name":"_type","type":"uint8","internalType":"uint8"},{"name":"_slippageP","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"orderId","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"openTrades","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"trade","type":"tuple","internalType":"struct IAvantisTrading.Trade","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"initialPosToken","type":"uint256","internalType":"uint256"},{"name":"positionSizeUSDC","type":"uint256","internalType":"uint256"},{"name":"openPrice","type":"uint256","internalType":"uint256"},{"name":"buy","type":"bool","internalType":"bool"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"tp","type":"uint256","internalType":"uint256"},{"name":"sl","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"openTradesInfo","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"info","type":"tuple","internalType":"struct IAvantisTrading.TradeInfo","components":[{"name":"openInterestUSDC","type":"uint256","internalType":"uint256"},{"name":"tpLastUpdated","type":"uint256","internalType":"uint256"},{"name":"slLastUpdated","type":"uint256","internalType":"uint256"},{"name":"beingMarketClosed","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"updateSl","inputs":[{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"newSl","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateTp","inputs":[{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"newTp","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"}],"bytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"deployedBytecode":{"object":"0x","sourceMap":"","linkReferences":{}},"methodIdentifiers":{"closeTradeMarket(uint256,uint256,uint256)":"2c3cbce4","hasOpenTrade(address,uint256,uint256)":"fbeb6e8b","openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)":"19cde9a1","openTrades(address,uint256,uint256)":"a3a80ffe","openTradesInfo(address,uint256,uint256)":"8c8ff1d5","updateSl(uint256,uint256,uint256)":"be73fb99","updateTp(uint256,uint256,uint256)":"d8defd15"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"closeTradeMarket\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"hasOpenTrade\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IAvantisTrading.Trade\",\"name\":\"t\",\"type\":\"tuple\"},{\"internalType\":\"uint8\",\"name\":\"_type\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_slippageP\",\"type\":\"uint256\"}],\"name\":\"openTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"openTrades\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IAvantisTrading.Trade\",\"name\":\"trade\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"openTradesInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"openInterestUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tpLastUpdated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"slLastUpdated\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"beingMarketClosed\",\"type\":\"bool\"}],\"internalType\":\"struct IAvantisTrading.TradeInfo\",\"name\":\"info\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newSl\",\"type\":\"uint256\"}],\"name\":\"updateSl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newTp\",\"type\":\"uint256\"}],\"name\":\"updateTp\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Based on Avantis Fixed-Fee Perpetuals on BaseContract address: 0x44914408af82bC9983bbb330e3578E1105e11d4e (proxy)\",\"kind\":\"dev\",\"methods\":{\"closeTradeMarket(uint256,uint256,uint256)\":{\"params\":{\"_amount\":\"Amount to close (0 = close entire position)\",\"_index\":\"Position index\",\"_pairIndex\":\"Index of the trading pair\"},\"returns\":{\"orderId\":\"Order ID for tracking\"}},\"hasOpenTrade(address,uint256,uint256)\":{\"params\":{\"index\":\"Position index\",\"pairIndex\":\"Index of the trading pair\",\"trader\":\"Address of the trader\"},\"returns\":{\"exists\":\"True if trade exists\"}},\"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)\":{\"params\":{\"_slippageP\":\"Slippage percentage (basis points)\",\"_type\":\"Order type enum (0 = market, etc.)\",\"t\":\"Trade struct with all trade parameters\"},\"returns\":{\"orderId\":\"Order ID for tracking\"}},\"openTrades(address,uint256,uint256)\":{\"params\":{\"index\":\"Position index\",\"pairIndex\":\"Index of the trading pair\",\"trader\":\"Address of the trader\"},\"returns\":{\"trade\":\"Trade struct\"}},\"openTradesInfo(address,uint256,uint256)\":{\"params\":{\"index\":\"Position index\",\"pairIndex\":\"Index of the trading pair\",\"trader\":\"Address of the trader\"},\"returns\":{\"info\":\"TradeInfo struct\"}},\"updateSl(uint256,uint256,uint256)\":{\"params\":{\"index\":\"Position index\",\"newSl\":\"New stop loss price\",\"pairIndex\":\"Index of the trading pair\"}},\"updateTp(uint256,uint256,uint256)\":{\"params\":{\"index\":\"Position index\",\"newTp\":\"New take profit price\",\"pairIndex\":\"Index of the trading pair\"}}},\"title\":\"IAvantisTrading\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"closeTradeMarket(uint256,uint256,uint256)\":{\"notice\":\"Close trade at market price\"},\"hasOpenTrade(address,uint256,uint256)\":{\"notice\":\"Check if trade exists\"},\"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)\":{\"notice\":\"Open a new trade\"},\"openTrades(address,uint256,uint256)\":{\"notice\":\"Get open trade details\"},\"openTradesInfo(address,uint256,uint256)\":{\"notice\":\"Get trade info (additional details)\"},\"updateSl(uint256,uint256,uint256)\":{\"notice\":\"Update stop loss\"},\"updateTp(uint256,uint256,uint256)\":{\"notice\":\"Update take profit\"}},\"notice\":\"Interface for Avantis perpetual trading contracts\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/interfaces/IAvantisTrading.sol\":\"IAvantisTrading\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":@openzeppelin-4/contracts/=../../node_modules/@openzeppelin/contracts/\",\":@openzeppelin/contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/\",\":@openzeppelin/contracts/=../../node_modules/@openzeppelin/contracts/\",\":avantis-contracts/=lib/avantis-contracts/avantis_trader_sdk/abis/\",\":balancer-v3-monorepo/=lib/balancer-v3-monorepo/\",\":beefy-zk/=node_modules/beefy-zk/contracts/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/\",\":solidity-bytes-utils/=node_modules/solidity-bytes-utils/\"],\"viaIR\":true},\"sources\":{\"src/interfaces/IAvantisTrading.sol\":{\"keccak256\":\"0x04713665722a3b211d1c4dc2d9bea33423b2be977d565a3ecc85f4e117981ade\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d6a79543977e74ca6d361a90bdd6266e57c333c165f1635c4475877d65057f1b\",\"dweb:/ipfs/QmWmSGNZKj28yV8xMtpMky4y1UnKa7xY4MAuDrt72swSmG\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"uint256","name":"_pairIndex","type":"uint256"},{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"payable","type":"function","name":"closeTradeMarket","outputs":[{"internalType":"uint256","name":"orderId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function","name":"hasOpenTrade","outputs":[{"internalType":"bool","name":"exists","type":"bool"}]},{"inputs":[{"internalType":"struct IAvantisTrading.Trade","name":"t","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"initialPosToken","type":"uint256"},{"internalType":"uint256","name":"positionSizeUSDC","type":"uint256"},{"internalType":"uint256","name":"openPrice","type":"uint256"},{"internalType":"bool","name":"buy","type":"bool"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"tp","type":"uint256"},{"internalType":"uint256","name":"sl","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"}]},{"internalType":"uint8","name":"_type","type":"uint8"},{"internalType":"uint256","name":"_slippageP","type":"uint256"}],"stateMutability":"payable","type":"function","name":"openTrade","outputs":[{"internalType":"uint256","name":"orderId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function","name":"openTrades","outputs":[{"internalType":"struct IAvantisTrading.Trade","name":"trade","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"initialPosToken","type":"uint256"},{"internalType":"uint256","name":"positionSizeUSDC","type":"uint256"},{"internalType":"uint256","name":"openPrice","type":"uint256"},{"internalType":"bool","name":"buy","type":"bool"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"tp","type":"uint256"},{"internalType":"uint256","name":"sl","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"}]}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function","name":"openTradesInfo","outputs":[{"internalType":"struct IAvantisTrading.TradeInfo","name":"info","type":"tuple","components":[{"internalType":"uint256","name":"openInterestUSDC","type":"uint256"},{"internalType":"uint256","name":"tpLastUpdated","type":"uint256"},{"internalType":"uint256","name":"slLastUpdated","type":"uint256"},{"internalType":"bool","name":"beingMarketClosed","type":"bool"}]}]},{"inputs":[{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"newSl","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateSl"},{"inputs":[{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"newTp","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateTp"}],"devdoc":{"kind":"dev","methods":{"closeTradeMarket(uint256,uint256,uint256)":{"params":{"_amount":"Amount to close (0 = close entire position)","_index":"Position index","_pairIndex":"Index of the trading pair"},"returns":{"orderId":"Order ID for tracking"}},"hasOpenTrade(address,uint256,uint256)":{"params":{"index":"Position index","pairIndex":"Index of the trading pair","trader":"Address of the trader"},"returns":{"exists":"True if trade exists"}},"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)":{"params":{"_slippageP":"Slippage percentage (basis points)","_type":"Order type enum (0 = market, etc.)","t":"Trade struct with all trade parameters"},"returns":{"orderId":"Order ID for tracking"}},"openTrades(address,uint256,uint256)":{"params":{"index":"Position index","pairIndex":"Index of the trading pair","trader":"Address of the trader"},"returns":{"trade":"Trade struct"}},"openTradesInfo(address,uint256,uint256)":{"params":{"index":"Position index","pairIndex":"Index of the trading pair","trader":"Address of the trader"},"returns":{"info":"TradeInfo struct"}},"updateSl(uint256,uint256,uint256)":{"params":{"index":"Position index","newSl":"New stop loss price","pairIndex":"Index of the trading pair"}},"updateTp(uint256,uint256,uint256)":{"params":{"index":"Position index","newTp":"New take profit price","pairIndex":"Index of the trading pair"}}},"version":1},"userdoc":{"kind":"user","methods":{"closeTradeMarket(uint256,uint256,uint256)":{"notice":"Close trade at market price"},"hasOpenTrade(address,uint256,uint256)":{"notice":"Check if trade exists"},"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)":{"notice":"Open a new trade"},"openTrades(address,uint256,uint256)":{"notice":"Get open trade details"},"openTradesInfo(address,uint256,uint256)":{"notice":"Get trade info (additional details)"},"updateSl(uint256,uint256,uint256)":{"notice":"Update stop loss"},"updateTp(uint256,uint256,uint256)":{"notice":"Update take profit"}},"version":1}},"settings":{"remappings":["@openzeppelin-4/contracts/=../../node_modules/@openzeppelin/contracts/","@openzeppelin/contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/","@openzeppelin/contracts/=../../node_modules/@openzeppelin/contracts/","avantis-contracts/=lib/avantis-contracts/avantis_trader_sdk/abis/","balancer-v3-monorepo/=lib/balancer-v3-monorepo/","beefy-zk/=node_modules/beefy-zk/contracts/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/","solidity-bytes-utils/=node_modules/solidity-bytes-utils/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/interfaces/IAvantisTrading.sol":"IAvantisTrading"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"src/interfaces/IAvantisTrading.sol":{"keccak256":"0x04713665722a3b211d1c4dc2d9bea33423b2be977d565a3ecc85f4e117981ade","urls":["bzz-raw://d6a79543977e74ca6d361a90bdd6266e57c333c165f1635c4475877d65057f1b","dweb:/ipfs/QmWmSGNZKj28yV8xMtpMky4y1UnKa7xY4MAuDrt72swSmG"],"license":"MIT"}},"version":1},"id":142}
{"abi":[{"type":"function","name":"USDC","inputs":[],"outputs":[{"name":"","type":"address","internalType":"address"}],"stateMutability":"view"},{"type":"function","name":"closeTradeMarket","inputs":[{"name":"_pairIndex","type":"uint256","internalType":"uint256"},{"name":"_index","type":"uint256","internalType":"uint256"},{"name":"_amount","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"orderId","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"hasOpenTrade","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"exists","type":"bool","internalType":"bool"}],"stateMutability":"view"},{"type":"function","name":"openTrade","inputs":[{"name":"t","type":"tuple","internalType":"struct IAvantisTrading.Trade","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"initialPosToken","type":"uint256","internalType":"uint256"},{"name":"positionSizeUSDC","type":"uint256","internalType":"uint256"},{"name":"openPrice","type":"uint256","internalType":"uint256"},{"name":"buy","type":"bool","internalType":"bool"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"tp","type":"uint256","internalType":"uint256"},{"name":"sl","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"}]},{"name":"_type","type":"uint8","internalType":"uint8"},{"name":"_slippageP","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"orderId","type":"uint256","internalType":"uint256"}],"stateMutability":"payable"},{"type":"function","name":"openTrades","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"trade","type":"tuple","internalType":"struct IAvantisTrading.Trade","components":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"initialPosToken","type":"uint256","internalType":"uint256"},{"name":"positionSizeUSDC","type":"uint256","internalType":"uint256"},{"name":"openPrice","type":"uint256","internalType":"uint256"},{"name":"buy","type":"bool","internalType":"bool"},{"name":"leverage","type":"uint256","internalType":"uint256"},{"name":"tp","type":"uint256","internalType":"uint256"},{"name":"sl","type":"uint256","internalType":"uint256"},{"name":"timestamp","type":"uint256","internalType":"uint256"}]}],"stateMutability":"view"},{"type":"function","name":"openTradesInfo","inputs":[{"name":"trader","type":"address","internalType":"address"},{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"}],"outputs":[{"name":"info","type":"tuple","internalType":"struct IAvantisTrading.TradeInfo","components":[{"name":"openInterestUSDC","type":"uint256","internalType":"uint256"},{"name":"tpLastUpdated","type":"uint256","internalType":"uint256"},{"name":"slLastUpdated","type":"uint256","internalType":"uint256"},{"name":"beingMarketClosed","type":"bool","internalType":"bool"}]}],"stateMutability":"view"},{"type":"function","name":"updateSl","inputs":[{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"newSl","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"function","name":"updateTp","inputs":[{"name":"pairIndex","type":"uint256","internalType":"uint256"},{"name":"index","type":"uint256","internalType":"uint256"},{"name":"newTp","type":"uint256","internalType":"uint256"}],"outputs":[],"stateMutability":"nonpayable"},{"type":"event","name":"TradeClosed","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"pairIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"positionIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"pnl","type":"uint256","indexed":false,"internalType":"uint256"}],"anonymous":false},{"type":"event","name":"TradeOpened","inputs":[{"name":"trader","type":"address","indexed":true,"internalType":"address"},{"name":"pairIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"positionIndex","type":"uint256","indexed":true,"internalType":"uint256"},{"name":"collateral","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"leverage","type":"uint256","indexed":false,"internalType":"uint256"},{"name":"buy","type":"bool","indexed":false,"internalType":"bool"}],"anonymous":false}],"bytecode":{"object":"0x60808060405234601557610d6f908161001a8239f35b5f80fdfe6080806040526004361015610012575f80fd5b5f3560e01c90816319cde9a1146106bd575080632c3cbce4146103e957806389a30271146103bb5780638c8ff1d51461030c578063a3a80ffe146101a0578063be73fb991461012f578063d8defd15146100be5763fbeb6e8b14610074575f80fd5b346100ba5761008236610a34565b6001600160a01b039283165f908152602081815260408083209483529381528382209282529182528290205491519190921615158152f35b5f80fd5b346100ba576100cc36610a1a565b919091335f525f60205260405f20825f5260205260405f20835f52602052600860405f2061010460018060a01b038254161515610b12565b0155335f52600160205260405f20905f5260205260405f20905f5260205242600160405f2001555f80f35b346100ba5761013d36610a1a565b919091335f525f60205260405f20825f5260205260405f20835f52602052600960405f2061017560018060a01b038254161515610b12565b0155335f52600160205260405f20905f5260205260405f20905f5260205242600260405f2001555f80f35b346100ba576101ae36610a34565b915f6101406040516101bf81610a96565b8281528260208201528260408201528260608201528260808201528260a08201528260c08201528260e08201528261010082015282610120820152015260018060a01b03165f525f60205260405f20905f5260205260405f20905f5260205261016060405f2060405161023181610a96565b60018060a01b038254169182825260018101546020830190815260028201546040840190815260038301546060850190815260048401546080860190815260058501549060a0870191825260ff6006870154169260c08801931515845260078701549460e089019586526008880154966101008a01978852610140600a60098b01549a6101208d019b8c5201549a01998a526040519a8b525160208b01525160408a01525160608901525160808801525160a087015251151560c08601525160e0850152516101008401525161012083015251610140820152f35b346100ba5761031a36610a34565b915f606060405161032a81610ac6565b828152826020820152826040820152015260018060a01b03165f52600160205260405f20905f5260205260405f20905f52602052608060405f2060405161037081610ac6565b815491828252600181015460208301908152606060ff600360028501549460408701958652015416930192151583526040519384525160208401525160408301525115156060820152f35b346100ba575f3660031901126100ba57602060405173833589fcd6edb6e08f4c7c32d4f71b54bda029138152f35b6103f236610a1a565b5090335f525f60205260405f20815f5260205260405f20825f5260205260405f2061042760018060a01b038254161515610b12565b6103e861043d6007600484015493015483610a74565b04620927c0810290808204620927c014901517156106a1576402540be4009004808211156106b55781039081116106a1575b8061054e575b5081816040515f81527f6fe91cfa62c683d74f3bbf4e2c22a0b38212290b94fe79d8490ddfe30abfd46460203392a4335f525f60205260405f20815f5260205260405f20825f526020525f600a604082208281558260018201558260028201558260038201558260048201558260058201558260068201558260078201558260088201558260098201550155335f52600160205260405f20905f5260205260405f20905f526020525f6003604082208281558260018201558260028201550155602060025461054381610b04565b600255604051908152f35b610604905f8060405192602084019063a9059cbb60e01b8252336024860152604485015260448452610581606485610ae1565b60405193610590604086610ae1565b602085525f516020610d1a5f395f51905f52602086015251908273833589fcd6edb6e08f4c7c32d4f71b54bda029135af13d15610699573d906105d282610c4a565b916105e06040519384610ae1565b82523d5f602084013e5b73833589fcd6edb6e08f4c7c32d4f71b54bda02913610c65565b8051908115918215610676575b50501561061e5782610475565b60405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b6064820152608490fd5b81925090602091810103126100ba576020015180151581036100ba578380610611565b6060906105ea565b634e487b7160e01b5f52601160045260245ffd5b50505f61046f565b36600319016101a081126100ba57610160136100ba576101643560ff8116036100ba576001600160a01b036106f0610a5e565b16156109e75760843580156109aa5760e435906103e8821061097257610717813033610b50565b6103e86107248383610a74565b0490620927c08202828104620927c014831517156106a1576402540be40061074e91043033610b50565b7fd8360f9895d9f8b3f98c9a0e65683e0afbf9005b4b9e9fd494abbb32a77919f46060610779610a5e565b9461092a6024359585600a886044359a8b8760a43580155f1461096957506108966445d964b8005b6107a9610a87565b906040519889966107b988610a96565b60018060a01b0316875260208701888152604088018781528f890191606435835260808a0193845260a08a0194855260c08a01951515865260e08a019788526101008a0198610104358a526101406101208c019b610124358d52019b428d5260018060a01b03610827610a5e565b165f525f60205260405f20905f5260205260405f20905f5260205260405f209c60018060a01b039051168d60018060a01b0319905416178d555160018d01555160028c01555160038b01555160048a0155516005890155511515600688019060ff801983541691151516179055565b51600786015551600885015551600984015551910155604051906108b982610ac6565b81525f6020820181815260408301828152868401928352600392916001600160a01b036108e4610a5e565b165f52600160205260405f208b5f5260205260405f208c5f5260205260405f209451855551600185015551600284015551151591019060ff801983541691151516179055565b610932610a5e565b9061093b610a87565b6040805196875260208701929092521515908501526001600160a01b031692a4602060025461054381610b04565b610896906107a1565b60405162461bcd60e51b815260206004820152601060248201526f4c6576657261676520746f6f206c6f7760801b6044820152606490fd5b60405162461bcd60e51b8152602060048201526015602482015274496e76616c696420706f736974696f6e2073697a6560581b6044820152606490fd5b62461bcd60e51b815260206004820152600e60248201526d24b73b30b634b2103a3930b232b960911b6044820152606490fd5b60609060031901126100ba57600435906024359060443590565b60609060031901126100ba576004356001600160a01b03811681036100ba57906024359060443590565b6004356001600160a01b03811681036100ba5790565b818102929181159184041417156106a157565b60c43580151581036100ba5790565b61016081019081106001600160401b03821117610ab257604052565b634e487b7160e01b5f52604160045260245ffd5b608081019081106001600160401b03821117610ab257604052565b601f909101601f19168101906001600160401b03821190821017610ab257604052565b5f1981146106a15760010190565b15610b1957565b60405162461bcd60e51b815260206004820152600f60248201526e151c985919481b9bdd08199bdd5b99608a1b6044820152606490fd5b6040516323b872dd60e01b60208201526001600160a01b03918216602482015291166044820152606480820192909252908152610c0990610b92608482610ae1565b604080519173833589fcd6edb6e08f4c7c32d4f71b54bda02913915f918291610bbb9086610ae1565b602085525f516020610d1a5f395f51905f52602086015260208151910182855af13d15610c42573d91610bed83610c4a565b92610bfb6040519485610ae1565b83523d5f602085013e610c65565b8051908115918215610c1f575b50501561061e57565b81925090602091810103126100ba576020015180151581036100ba575f80610c16565b606091610c65565b6001600160401b038111610ab257601f01601f191660200190565b91929015610cc75750815115610c79575090565b3b15610c825790565b60405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606490fd5b825190915015610cda5750805190602001fd5b604460209160405192839162461bcd60e51b83528160048401528051918291826024860152018484015e5f828201840152601f01601f19168101030190fdfe5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564a26469706673582212208845f520e7e133b1e68583e6a29957deaf6202ecabacaf7f885621935266633264736f6c634300081c0033","sourceMap":"469:5734:8:-:0;;;;;;;;;;;;;;;;;","linkReferences":{}},"deployedBytecode":{"object":"0x6080806040526004361015610012575f80fd5b5f3560e01c90816319cde9a1146106bd575080632c3cbce4146103e957806389a30271146103bb5780638c8ff1d51461030c578063a3a80ffe146101a0578063be73fb991461012f578063d8defd15146100be5763fbeb6e8b14610074575f80fd5b346100ba5761008236610a34565b6001600160a01b039283165f908152602081815260408083209483529381528382209282529182528290205491519190921615158152f35b5f80fd5b346100ba576100cc36610a1a565b919091335f525f60205260405f20825f5260205260405f20835f52602052600860405f2061010460018060a01b038254161515610b12565b0155335f52600160205260405f20905f5260205260405f20905f5260205242600160405f2001555f80f35b346100ba5761013d36610a1a565b919091335f525f60205260405f20825f5260205260405f20835f52602052600960405f2061017560018060a01b038254161515610b12565b0155335f52600160205260405f20905f5260205260405f20905f5260205242600260405f2001555f80f35b346100ba576101ae36610a34565b915f6101406040516101bf81610a96565b8281528260208201528260408201528260608201528260808201528260a08201528260c08201528260e08201528261010082015282610120820152015260018060a01b03165f525f60205260405f20905f5260205260405f20905f5260205261016060405f2060405161023181610a96565b60018060a01b038254169182825260018101546020830190815260028201546040840190815260038301546060850190815260048401546080860190815260058501549060a0870191825260ff6006870154169260c08801931515845260078701549460e089019586526008880154966101008a01978852610140600a60098b01549a6101208d019b8c5201549a01998a526040519a8b525160208b01525160408a01525160608901525160808801525160a087015251151560c08601525160e0850152516101008401525161012083015251610140820152f35b346100ba5761031a36610a34565b915f606060405161032a81610ac6565b828152826020820152826040820152015260018060a01b03165f52600160205260405f20905f5260205260405f20905f52602052608060405f2060405161037081610ac6565b815491828252600181015460208301908152606060ff600360028501549460408701958652015416930192151583526040519384525160208401525160408301525115156060820152f35b346100ba575f3660031901126100ba57602060405173833589fcd6edb6e08f4c7c32d4f71b54bda029138152f35b6103f236610a1a565b5090335f525f60205260405f20815f5260205260405f20825f5260205260405f2061042760018060a01b038254161515610b12565b6103e861043d6007600484015493015483610a74565b04620927c0810290808204620927c014901517156106a1576402540be4009004808211156106b55781039081116106a1575b8061054e575b5081816040515f81527f6fe91cfa62c683d74f3bbf4e2c22a0b38212290b94fe79d8490ddfe30abfd46460203392a4335f525f60205260405f20815f5260205260405f20825f526020525f600a604082208281558260018201558260028201558260038201558260048201558260058201558260068201558260078201558260088201558260098201550155335f52600160205260405f20905f5260205260405f20905f526020525f6003604082208281558260018201558260028201550155602060025461054381610b04565b600255604051908152f35b610604905f8060405192602084019063a9059cbb60e01b8252336024860152604485015260448452610581606485610ae1565b60405193610590604086610ae1565b602085525f516020610d1a5f395f51905f52602086015251908273833589fcd6edb6e08f4c7c32d4f71b54bda029135af13d15610699573d906105d282610c4a565b916105e06040519384610ae1565b82523d5f602084013e5b73833589fcd6edb6e08f4c7c32d4f71b54bda02913610c65565b8051908115918215610676575b50501561061e5782610475565b60405162461bcd60e51b815260206004820152602a60248201527f5361666545524332303a204552433230206f7065726174696f6e20646964206e6044820152691bdd081cdd58d8d9595960b21b6064820152608490fd5b81925090602091810103126100ba576020015180151581036100ba578380610611565b6060906105ea565b634e487b7160e01b5f52601160045260245ffd5b50505f61046f565b36600319016101a081126100ba57610160136100ba576101643560ff8116036100ba576001600160a01b036106f0610a5e565b16156109e75760843580156109aa5760e435906103e8821061097257610717813033610b50565b6103e86107248383610a74565b0490620927c08202828104620927c014831517156106a1576402540be40061074e91043033610b50565b7fd8360f9895d9f8b3f98c9a0e65683e0afbf9005b4b9e9fd494abbb32a77919f46060610779610a5e565b9461092a6024359585600a886044359a8b8760a43580155f1461096957506108966445d964b8005b6107a9610a87565b906040519889966107b988610a96565b60018060a01b0316875260208701888152604088018781528f890191606435835260808a0193845260a08a0194855260c08a01951515865260e08a019788526101008a0198610104358a526101406101208c019b610124358d52019b428d5260018060a01b03610827610a5e565b165f525f60205260405f20905f5260205260405f20905f5260205260405f209c60018060a01b039051168d60018060a01b0319905416178d555160018d01555160028c01555160038b01555160048a0155516005890155511515600688019060ff801983541691151516179055565b51600786015551600885015551600984015551910155604051906108b982610ac6565b81525f6020820181815260408301828152868401928352600392916001600160a01b036108e4610a5e565b165f52600160205260405f208b5f5260205260405f208c5f5260205260405f209451855551600185015551600284015551151591019060ff801983541691151516179055565b610932610a5e565b9061093b610a87565b6040805196875260208701929092521515908501526001600160a01b031692a4602060025461054381610b04565b610896906107a1565b60405162461bcd60e51b815260206004820152601060248201526f4c6576657261676520746f6f206c6f7760801b6044820152606490fd5b60405162461bcd60e51b8152602060048201526015602482015274496e76616c696420706f736974696f6e2073697a6560581b6044820152606490fd5b62461bcd60e51b815260206004820152600e60248201526d24b73b30b634b2103a3930b232b960911b6044820152606490fd5b60609060031901126100ba57600435906024359060443590565b60609060031901126100ba576004356001600160a01b03811681036100ba57906024359060443590565b6004356001600160a01b03811681036100ba5790565b818102929181159184041417156106a157565b60c43580151581036100ba5790565b61016081019081106001600160401b03821117610ab257604052565b634e487b7160e01b5f52604160045260245ffd5b608081019081106001600160401b03821117610ab257604052565b601f909101601f19168101906001600160401b03821190821017610ab257604052565b5f1981146106a15760010190565b15610b1957565b60405162461bcd60e51b815260206004820152600f60248201526e151c985919481b9bdd08199bdd5b99608a1b6044820152606490fd5b6040516323b872dd60e01b60208201526001600160a01b03918216602482015291166044820152606480820192909252908152610c0990610b92608482610ae1565b604080519173833589fcd6edb6e08f4c7c32d4f71b54bda02913915f918291610bbb9086610ae1565b602085525f516020610d1a5f395f51905f52602086015260208151910182855af13d15610c42573d91610bed83610c4a565b92610bfb6040519485610ae1565b83523d5f602085013e610c65565b8051908115918215610c1f575b50501561061e57565b81925090602091810103126100ba576020015180151581036100ba575f80610c16565b606091610c65565b6001600160401b038111610ab257601f01601f191660200190565b91929015610cc75750815115610c79575090565b3b15610c825790565b60405162461bcd60e51b815260206004820152601d60248201527f416464726573733a2063616c6c20746f206e6f6e2d636f6e74726163740000006044820152606490fd5b825190915015610cda5750805190602001fd5b604460209160405192839162461bcd60e51b83528160048401528051918291826024860152018484015e5f828201840152601f01601f19168101030190fdfe5361666545524332303a206c6f772d6c6576656c2063616c6c206661696c6564a26469706673582212208845f520e7e133b1e68583e6a29957deaf6202ecabacaf7f885621935266633264736f6c634300081c0033","sourceMap":"469:5734:8:-:0;;;;;;;;;;;;;;;;;;;;;;;;2684:11;;469:5734;2684:11;;;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;-1:-1:-1;;;;;469:5734:8;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;6143:53;;469:5734;;;;;;;;;;;;;;:::i;:::-;4849:10;;;;469:5734;;;;;;;;;;;;;;;;;;;;;4949:8;469:5734;;;4884:54;469:5734;;;;;;;;4892:26;;4884:54;:::i;:::-;4949:8;469:5734;4849:10;469:5734;;4971:10;469:5734;;;;;;;;;;;;;;;;;;5028:15;4971:10;469:5734;;;4971:54;469:5734;;;;;;;;;;;:::i;:::-;5214:10;;;;469:5734;;;;;;;;;;;;;;;;;;;;;5314:8;469:5734;;;5249:54;469:5734;;;;;;;;5257:26;;5249:54;:::i;:::-;5314:8;469:5734;5214:10;469:5734;;5336:10;469:5734;;;;;;;;;;;;;;;;;;5393:15;5336:54;469:5734;;;5336:54;469:5734;;;;;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;;;:::i;:::-;;;;;;;;;;;;;;;;;;;;;;;;5905:10;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;;;;5905:10;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;-1:-1:-1;;469:5734:8;;;;;;;602:42;469:5734;;;;;;;:::i;:::-;3830:10;;;469:5734;;;;;;;;;;;;;;;;;;;;;;;;3867:54;469:5734;;;;;;;;3875:26;;3867:54;:::i;:::-;4055:4;4012:39;4037:14;469:5734;4012:22;;469:5734;4037:14;;469:5734;4012:39;;:::i;:::-;469:5734;4100:6;469:5734;;;;;;4100:6;469:5734;;;;;;;4110:4;469:5734;;4279:33;;;;;;469:5734;;;;;;;4279:87;4377:16;4373:88;;4279:87;469:5734;;;;;;;;4472:46;469:5734;3830:10;4472:46;;3830:10;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4037:14;469:5734;;;;;;;;;;;;;;;3830:10;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;4663:13;;;:::i;:::-;469:5734;;;;;;;;4373:88;5535:69:3;469:5734:8;;;;;1050:58:2;469:5734:8;1050:58:2;;469:5734:8;;;;1050:58:2;;3830:10:8;1050:58:2;;;469:5734:8;;;;;;1050:58:2;;;;;;:::i;:::-;469:5734:8;;;;;;;:::i;:::-;;;;-1:-1:-1;;;;;;;;;;;469:5734:8;;;;5487:31:3;;;469:5734:8;5487:31:3;;469:5734:8;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;;;;;;;;5535:69:3;:::i;:::-;469:5734:8;;5728:22:2;;;:56;;;;;469:5734:8;;;;;;4373:88;;;469:5734;;;-1:-1:-1;;;469:5734:8;;;;;;;;1050:58:2;469:5734:8;;;;;;;;-1:-1:-1;;;1050:58:2;469:5734:8;;;;;;5728:56:2;5754:30;;;;469:5734:8;5754:30:2;;;469:5734:8;;;;;5754:30:2;469:5734:8;;;;;;;;5728:56:2;;;;469:5734:8;;;;;;;;;;;;;;;;;4279:87;;;469:5734;4279:87;;469:5734;;-1:-1:-1;;469:5734:8;;;;;;;-1:-1:-1;469:5734:8;;;;;;;;;;-1:-1:-1;;;;;1832:8:8;;:::i;:::-;469:5734;1832:22;469:5734;;1887:18;469:5734;1887:22;;469:5734;;1949:10;469:5734;1949:18;1963:4;1949:18;;469:5734;;2220:18;2213:4;;2193:10;2220:18;:::i;:::-;1963:4;2329:31;;;;:::i;:::-;469:5734;;2408:6;469:5734;;;;;2408:6;469:5734;;;;;;;2418:4;2560:7;469:5734;;2213:4;2193:10;2560:7;:::i;:::-;3228:82;2742:17;2657:8;;:::i;:::-;469:5734;;2684:11;469:5734;;;;;2710:7;469:5734;;;;2822:11;469:5734;2822:16;;:45;:16;;;:45;469:5734;2841:12;2822:45;2923:5;;:::i;:::-;469:5734;;;;;;;;;:::i;:::-;;;;;;;;;2684:11;2635:394;;469:5734;;;;2635:394;;469:5734;;;2635:394;;;469:5734;2742:17;469:5734;;;1887:18;2635:394;;469:5734;;;2822:11;2635:394;;469:5734;;;2923:5;2635:394;;469:5734;;;;;;2635:394;;469:5734;;;2968:4;2635:394;;469:5734;2968:4;469:5734;;;2635:394;2984:4;2635:394;;469:5734;2984:4;469:5734;;;2635:394;3007:15;;469:5734;;;;;;;2601:8;;:::i;:::-;469:5734;;;;2684:11;469:5734;;;;;;;2684:11;469:5734;;;;;;;2684:11;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;:::i;:::-;;;;2684:11;3081:135;;469:5734;;;;3081:135;;469:5734;;;3081:135;;;469:5734;;;;;3081:135;-1:-1:-1;;;;;3047:8:8;;:::i;:::-;469:5734;;;;2684:11;469:5734;;;;;;;2684:11;469:5734;;;;;;;2684:11;469:5734;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;3240:8;;:::i;:::-;3304:5;;;:::i;:::-;469:5734;;;;;;2684:11;469:5734;;;;;;;;;;;;-1:-1:-1;;;;;469:5734:8;;3228:82;2684:11;469:5734;;3324:13;;;:::i;2822:45::-;469:5734;2822:45;;;469:5734;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;;;-1:-1:-1;;;469:5734:8;;;;;;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;;;;;;;;;;;;;;;;:::o;:::-;;;;;;;;;;;-1:-1:-1;;;;;469:5734:8;;;;;;;;;;;;;:::o;:::-;;;-1:-1:-1;;;;;469:5734:8;;;;;;;:::o;:::-;;;;;;;;;;;;;;;;:::o;:::-;2923:5;469:5734;;;;;;;;;:::o;:::-;;;;;;;-1:-1:-1;;;;;469:5734:8;;;;;;;:::o;:::-;;;;-1:-1:-1;469:5734:8;;;;;-1:-1:-1;469:5734:8;;1887:18;469:5734;;;;;-1:-1:-1;;;;;469:5734:8;;;;;;;:::o;:::-;;;;;-1:-1:-1;;469:5734:8;;;;-1:-1:-1;;;;;469:5734:8;;;;;;;;;;:::o;:::-;-1:-1:-1;;469:5734:8;;;;;;;:::o;:::-;;;;:::o;:::-;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;;;-1:-1:-1;;;469:5734:8;;;;;;;1355:203:2;469:5734:8;;-1:-1:-1;;;1482:68:2;;;;-1:-1:-1;;;;;469:5734:8;;;1482:68:2;;;469:5734:8;;;;;;;;;;;;;;;1482:68:2;;;5535:69:3;;1482:68:2;;469:5734:8;1482:68:2;:::i;:::-;469:5734:8;;;;;;-1:-1:-1;;;;469:5734:8;;;;:::i;:::-;;;;-1:-1:-1;;;;;;;;;;;469:5734:8;;;;;5487:31:3;;;;;;;;469:5734:8;;;;;;;;;:::i;:::-;;;;;;;;:::i;:::-;;;;-1:-1:-1;469:5734:8;;;;5535:69:3;:::i;:::-;469:5734:8;;5728:22:2;;;:56;;;;;469:5734:8;;;;;;1355:203:2:o;5728:56::-;5754:30;;;;469:5734:8;5754:30:2;;;469:5734:8;;;;;5754:30:2;469:5734:8;;;;;;;;5728:56:2;;;;469:5734:8;;;5535:69:3;:::i;469:5734:8:-;-1:-1:-1;;;;;469:5734:8;;;;;;-1:-1:-1;;469:5734:8;;;;:::o;7671:628:3:-;;;;7875:418;;;469:5734:8;;;7906:22:3;7902:286;;8201:17;;:::o;7902:286::-;1702:19;:23;469:5734:8;;8201:17:3;:::o;469:5734:8:-;;;-1:-1:-1;;;469:5734:8;;;;;;;;;;;;;;;;;;;;7875:418:3;469:5734:8;;;;-1:-1:-1;8980:21:3;:17;;9152:142;;;;;;;8976:379;469:5734:8;;;;;;;;;;;9324:20:3;;;;;;469:5734:8;;;;;;;;;;;;;;;;9000:1:3;469:5734:8;;;;;;;;-1:-1:-1;;469:5734:8;;;9324:20:3;;;","linkReferences":{}},"methodIdentifiers":{"USDC()":"89a30271","closeTradeMarket(uint256,uint256,uint256)":"2c3cbce4","hasOpenTrade(address,uint256,uint256)":"fbeb6e8b","openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)":"19cde9a1","openTrades(address,uint256,uint256)":"a3a80ffe","openTradesInfo(address,uint256,uint256)":"8c8ff1d5","updateSl(uint256,uint256,uint256)":"be73fb99","updateTp(uint256,uint256,uint256)":"d8defd15"},"rawMetadata":"{\"compiler\":{\"version\":\"0.8.28+commit.7893614a\"},\"language\":\"Solidity\",\"output\":{\"abi\":[{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"pnl\",\"type\":\"uint256\"}],\"name\":\"TradeClosed\",\"type\":\"event\"},{\"anonymous\":false,\"inputs\":[{\"indexed\":true,\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"indexed\":true,\"internalType\":\"uint256\",\"name\":\"positionIndex\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"collateral\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"indexed\":false,\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"}],\"name\":\"TradeOpened\",\"type\":\"event\"},{\"inputs\":[],\"name\":\"USDC\",\"outputs\":[{\"internalType\":\"address\",\"name\":\"\",\"type\":\"address\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"_pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"_amount\",\"type\":\"uint256\"}],\"name\":\"closeTradeMarket\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"hasOpenTrade\",\"outputs\":[{\"internalType\":\"bool\",\"name\":\"exists\",\"type\":\"bool\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IAvantisTrading.Trade\",\"name\":\"t\",\"type\":\"tuple\"},{\"internalType\":\"uint8\",\"name\":\"_type\",\"type\":\"uint8\"},{\"internalType\":\"uint256\",\"name\":\"_slippageP\",\"type\":\"uint256\"}],\"name\":\"openTrade\",\"outputs\":[{\"internalType\":\"uint256\",\"name\":\"orderId\",\"type\":\"uint256\"}],\"stateMutability\":\"payable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"openTrades\",\"outputs\":[{\"components\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"initialPosToken\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"positionSizeUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"openPrice\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"buy\",\"type\":\"bool\"},{\"internalType\":\"uint256\",\"name\":\"leverage\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tp\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"sl\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"timestamp\",\"type\":\"uint256\"}],\"internalType\":\"struct IAvantisTrading.Trade\",\"name\":\"trade\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"address\",\"name\":\"trader\",\"type\":\"address\"},{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"}],\"name\":\"openTradesInfo\",\"outputs\":[{\"components\":[{\"internalType\":\"uint256\",\"name\":\"openInterestUSDC\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"tpLastUpdated\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"slLastUpdated\",\"type\":\"uint256\"},{\"internalType\":\"bool\",\"name\":\"beingMarketClosed\",\"type\":\"bool\"}],\"internalType\":\"struct IAvantisTrading.TradeInfo\",\"name\":\"info\",\"type\":\"tuple\"}],\"stateMutability\":\"view\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newSl\",\"type\":\"uint256\"}],\"name\":\"updateSl\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"},{\"inputs\":[{\"internalType\":\"uint256\",\"name\":\"pairIndex\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"index\",\"type\":\"uint256\"},{\"internalType\":\"uint256\",\"name\":\"newTp\",\"type\":\"uint256\"}],\"name\":\"updateTp\",\"outputs\":[],\"stateMutability\":\"nonpayable\",\"type\":\"function\"}],\"devdoc\":{\"details\":\"Simulates perpetual position opening/closing without off-chain components\",\"kind\":\"dev\",\"methods\":{\"closeTradeMarket(uint256,uint256,uint256)\":{\"params\":{\"_amount\":\"Amount to close (0 = close entire position) - ignored in mock, always closes full position\",\"_index\":\"Position index\",\"_pairIndex\":\"Index of the trading pair\"},\"returns\":{\"orderId\":\"Order ID for tracking\"}},\"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)\":{\"params\":{\"_slippageP\":\"Slippage percentage (basis points) - ignored in mock\",\"_type\":\"Order type enum (0 = market, etc.) - ignored in mock\",\"t\":\"Trade struct with all trade parameters\"},\"returns\":{\"orderId\":\"Order ID for tracking\"}}},\"title\":\"MockAvantisTrading\",\"version\":1},\"userdoc\":{\"kind\":\"user\",\"methods\":{\"closeTradeMarket(uint256,uint256,uint256)\":{\"notice\":\"Close trade at market price (simulated)\"},\"hasOpenTrade(address,uint256,uint256)\":{\"notice\":\"Check if trade exists\"},\"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)\":{\"notice\":\"Open a new trade (simulated)\"},\"openTrades(address,uint256,uint256)\":{\"notice\":\"Get open trade details\"},\"openTradesInfo(address,uint256,uint256)\":{\"notice\":\"Get trade info (additional details)\"},\"updateSl(uint256,uint256,uint256)\":{\"notice\":\"Update stop loss\"},\"updateTp(uint256,uint256,uint256)\":{\"notice\":\"Update take profit\"}},\"notice\":\"Mock implementation of Avantis trading contract for testing\",\"version\":1}},\"settings\":{\"compilationTarget\":{\"src/test/MockAvantisTrading.sol\":\"MockAvantisTrading\"},\"evmVersion\":\"prague\",\"libraries\":{},\"metadata\":{\"bytecodeHash\":\"ipfs\"},\"optimizer\":{\"enabled\":true,\"runs\":1},\"remappings\":[\":@openzeppelin-4/contracts/=../../node_modules/@openzeppelin/contracts/\",\":@openzeppelin/contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/\",\":@openzeppelin/contracts/=../../node_modules/@openzeppelin/contracts/\",\":avantis-contracts/=lib/avantis-contracts/avantis_trader_sdk/abis/\",\":balancer-v3-monorepo/=lib/balancer-v3-monorepo/\",\":beefy-zk/=node_modules/beefy-zk/contracts/\",\":forge-std/=lib/forge-std/src/\",\":openzeppelin-contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/\",\":solidity-bytes-utils/=node_modules/solidity-bytes-utils/\"],\"viaIR\":true},\"sources\":{\"../../node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol\":{\"keccak256\":\"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bd39944e8fc06be6dbe2dd1d8449b5336e23c6a7ba3e8e9ae5ae0f37f35283f5\",\"dweb:/ipfs/QmPV3FGYjVwvKSgAXKUN3r9T9GwniZz83CxBpM7vyj2G53\"]},\"../../node_modules/@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol\":{\"keccak256\":\"0xec63854014a5b4f2b3290ab9103a21bdf902a508d0f41a8573fea49e98bf571a\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://bc5b5dc12fbc4002f282eaa7a5f06d8310ed62c1c77c5770f6283e058454c39a\",\"dweb:/ipfs/Qme9rE2wS3yBuyJq9GgbmzbsBQsW2M2sVFqYYLw7bosGrv\"]},\"../../node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol\":{\"keccak256\":\"0xabefac93435967b4d36a4fabcbdbb918d1f0b7ae3c3d85bc30923b326c927ed1\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://9d213d3befca47da33f6db0310826bcdb148299805c10d77175ecfe1d06a9a68\",\"dweb:/ipfs/QmRgCn6SP1hbBkExUADFuDo8xkT4UU47yjNF5FhCeRbQmS\"]},\"../../node_modules/@openzeppelin/contracts/utils/Address.sol\":{\"keccak256\":\"0x006dd67219697fe68d7fbfdea512e7c4cb64a43565ed86171d67e844982da6fa\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://2455248c8ddd9cc6a7af76a13973cddf222072427e7b0e2a7d1aff345145e931\",\"dweb:/ipfs/QmfYjnjRbWqYpuxurqveE6HtzsY1Xx323J428AKQgtBJZm\"]},\"src/interfaces/IAvantisTrading.sol\":{\"keccak256\":\"0x04713665722a3b211d1c4dc2d9bea33423b2be977d565a3ecc85f4e117981ade\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://d6a79543977e74ca6d361a90bdd6266e57c333c165f1635c4475877d65057f1b\",\"dweb:/ipfs/QmWmSGNZKj28yV8xMtpMky4y1UnKa7xY4MAuDrt72swSmG\"]},\"src/test/MockAvantisTrading.sol\":{\"keccak256\":\"0xfe70e00aa4604566129363d947ccdff945afd529696cebcabe0d1e5a4ed69907\",\"license\":\"MIT\",\"urls\":[\"bzz-raw://f1b9fa00e72c21fd34a8a75951b3dd1575dc76e098fda083b32baba460434ddd\",\"dweb:/ipfs/QmUStiPEmRpV1A2BE7pFuY21hCUEPjgFZHkeiCcDNoVYKo\"]}},\"version\":1}","metadata":{"compiler":{"version":"0.8.28+commit.7893614a"},"language":"Solidity","output":{"abi":[{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"pairIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"positionIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"pnl","type":"uint256","indexed":false}],"type":"event","name":"TradeClosed","anonymous":false},{"inputs":[{"internalType":"address","name":"trader","type":"address","indexed":true},{"internalType":"uint256","name":"pairIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"positionIndex","type":"uint256","indexed":true},{"internalType":"uint256","name":"collateral","type":"uint256","indexed":false},{"internalType":"uint256","name":"leverage","type":"uint256","indexed":false},{"internalType":"bool","name":"buy","type":"bool","indexed":false}],"type":"event","name":"TradeOpened","anonymous":false},{"inputs":[],"stateMutability":"view","type":"function","name":"USDC","outputs":[{"internalType":"address","name":"","type":"address"}]},{"inputs":[{"internalType":"uint256","name":"_pairIndex","type":"uint256"},{"internalType":"uint256","name":"_index","type":"uint256"},{"internalType":"uint256","name":"_amount","type":"uint256"}],"stateMutability":"payable","type":"function","name":"closeTradeMarket","outputs":[{"internalType":"uint256","name":"orderId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function","name":"hasOpenTrade","outputs":[{"internalType":"bool","name":"exists","type":"bool"}]},{"inputs":[{"internalType":"struct IAvantisTrading.Trade","name":"t","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"initialPosToken","type":"uint256"},{"internalType":"uint256","name":"positionSizeUSDC","type":"uint256"},{"internalType":"uint256","name":"openPrice","type":"uint256"},{"internalType":"bool","name":"buy","type":"bool"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"tp","type":"uint256"},{"internalType":"uint256","name":"sl","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"}]},{"internalType":"uint8","name":"_type","type":"uint8"},{"internalType":"uint256","name":"_slippageP","type":"uint256"}],"stateMutability":"payable","type":"function","name":"openTrade","outputs":[{"internalType":"uint256","name":"orderId","type":"uint256"}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function","name":"openTrades","outputs":[{"internalType":"struct IAvantisTrading.Trade","name":"trade","type":"tuple","components":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"initialPosToken","type":"uint256"},{"internalType":"uint256","name":"positionSizeUSDC","type":"uint256"},{"internalType":"uint256","name":"openPrice","type":"uint256"},{"internalType":"bool","name":"buy","type":"bool"},{"internalType":"uint256","name":"leverage","type":"uint256"},{"internalType":"uint256","name":"tp","type":"uint256"},{"internalType":"uint256","name":"sl","type":"uint256"},{"internalType":"uint256","name":"timestamp","type":"uint256"}]}]},{"inputs":[{"internalType":"address","name":"trader","type":"address"},{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"}],"stateMutability":"view","type":"function","name":"openTradesInfo","outputs":[{"internalType":"struct IAvantisTrading.TradeInfo","name":"info","type":"tuple","components":[{"internalType":"uint256","name":"openInterestUSDC","type":"uint256"},{"internalType":"uint256","name":"tpLastUpdated","type":"uint256"},{"internalType":"uint256","name":"slLastUpdated","type":"uint256"},{"internalType":"bool","name":"beingMarketClosed","type":"bool"}]}]},{"inputs":[{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"newSl","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateSl"},{"inputs":[{"internalType":"uint256","name":"pairIndex","type":"uint256"},{"internalType":"uint256","name":"index","type":"uint256"},{"internalType":"uint256","name":"newTp","type":"uint256"}],"stateMutability":"nonpayable","type":"function","name":"updateTp"}],"devdoc":{"kind":"dev","methods":{"closeTradeMarket(uint256,uint256,uint256)":{"params":{"_amount":"Amount to close (0 = close entire position) - ignored in mock, always closes full position","_index":"Position index","_pairIndex":"Index of the trading pair"},"returns":{"orderId":"Order ID for tracking"}},"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)":{"params":{"_slippageP":"Slippage percentage (basis points) - ignored in mock","_type":"Order type enum (0 = market, etc.) - ignored in mock","t":"Trade struct with all trade parameters"},"returns":{"orderId":"Order ID for tracking"}}},"version":1},"userdoc":{"kind":"user","methods":{"closeTradeMarket(uint256,uint256,uint256)":{"notice":"Close trade at market price (simulated)"},"hasOpenTrade(address,uint256,uint256)":{"notice":"Check if trade exists"},"openTrade((address,uint256,uint256,uint256,uint256,uint256,bool,uint256,uint256,uint256,uint256),uint8,uint256)":{"notice":"Open a new trade (simulated)"},"openTrades(address,uint256,uint256)":{"notice":"Get open trade details"},"openTradesInfo(address,uint256,uint256)":{"notice":"Get trade info (additional details)"},"updateSl(uint256,uint256,uint256)":{"notice":"Update stop loss"},"updateTp(uint256,uint256,uint256)":{"notice":"Update take profit"}},"version":1}},"settings":{"remappings":["@openzeppelin-4/contracts/=../../node_modules/@openzeppelin/contracts/","@openzeppelin/contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/","@openzeppelin/contracts/=../../node_modules/@openzeppelin/contracts/","avantis-contracts/=lib/avantis-contracts/avantis_trader_sdk/abis/","balancer-v3-monorepo/=lib/balancer-v3-monorepo/","beefy-zk/=node_modules/beefy-zk/contracts/","forge-std/=lib/forge-std/src/","openzeppelin-contracts-upgradeable/=../../node_modules/@openzeppelin/contracts-upgradeable/","solidity-bytes-utils/=node_modules/solidity-bytes-utils/"],"optimizer":{"enabled":true,"runs":1},"metadata":{"bytecodeHash":"ipfs"},"compilationTarget":{"src/test/MockAvantisTrading.sol":"MockAvantisTrading"},"evmVersion":"prague","libraries":{},"viaIR":true},"sources":{"../../node_modules/@openzeppelin/contracts/token/ERC20/IERC20.sol":{"keccak256":"0x287b55befed2961a7eabd7d7b1b2839cbca8a5b80ef8dcbb25ed3d4c2002c305","urls":["bzz-raw://bd39944e8fc06be6dbe2dd1d8449b5336e23c6a7ba3e8e9ae5ae0f37f35283f5","dweb:/ipfs/QmPV3FGYjVwvKSgAXKUN3r9T9GwniZz83CxBpM7vyj2G53"],"license":"MIT"},"../../node_modules/@openzeppelin/contracts/token/ERC20/extensions/IERC20Permit.sol":{"keccak256":"0xec63854014a5b4f2b3290ab9103a21bdf902a508d0f41a8573fea49e98bf571a","urls":["bzz-raw://bc5b5dc12fbc4002f282eaa7a5f06d8310ed62c1c77c5770f6283e058454c39a","dweb:/ipfs/Qme9rE2wS3yBuyJq9GgbmzbsBQsW2M2sVFqYYLw7bosGrv"],"license":"MIT"},"../../node_modules/@openzeppelin/contracts/token/ERC20/utils/SafeERC20.sol":{"keccak256":"0xabefac93435967b4d36a4fabcbdbb918d1f0b7ae3c3d85bc30923b326c927ed1","urls":["bzz-raw://9d213d3befca47da33f6db0310826bcdb148299805c10d77175ecfe1d06a9a68","dweb:/ipfs/QmRgCn6SP1hbBkExUADFuDo8xkT4UU47yjNF5FhCeRbQmS"],"license":"MIT"},"../../node_modules/@openzeppelin/contracts/utils/Address.sol":{"keccak256":"0x006dd67219697fe68d7fbfdea512e7c4cb64a43565ed86171d67e844982da6fa","urls":["bzz-raw://2455248c8ddd9cc6a7af76a13973cddf222072427e7b0e2a7d1aff345145e931","dweb:/ipfs/QmfYjnjRbWqYpuxurqveE6HtzsY1Xx323J428AKQgtBJZm"],"license":"MIT"},"src/interfaces/IAvantisTrading.sol":{"keccak256":"0x04713665722a3b211d1c4dc2d9bea33423b2be977d565a3ecc85f4e117981ade","urls":["bzz-raw://d6a79543977e74ca6d361a90bdd6266e57c333c165f1635c4475877d65057f1b","dweb:/ipfs/QmWmSGNZKj28yV8xMtpMky4y1UnKa7xY4MAuDrt72swSmG"],"license":"MIT"},"src/test/MockAvantisTrading.sol":{"keccak256":"0xfe70e00aa4604566129363d947ccdff945afd529696cebcabe0d1e5a4ed69907","urls":["bzz-raw://f1b9fa00e72c21fd34a8a75951b3dd1575dc76e098fda083b32baba460434ddd","dweb:/ipfs/QmUStiPEmRpV1A2BE7pFuY21hCUEPjgFZHkeiCcDNoVYKo"],"license":"MIT"}},"version":1},"id":8}